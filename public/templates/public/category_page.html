{% extends 'public/home_layout.html' %}
{% load static %}
{% block content_block %}

<style>
    body{
         background-color: #F6F7F9;
    }

    .template-page{
        padding: 20px;
        border-top: 5px solid #3AD1BB;
    }






</style>

<!--
<div class="breadcrumb-wrap"
         {% if category_page.main_image %}style="background-size:100%,100%;height:350px;background-image: linear-gradient(rgba(72, 82, 107, 0.7), rgba(72, 82, 107, 0.7)), url('
                 {% static 'uploads/' %}{{ category_page.main_image }}')" {% endif %}>
        <div class="container">
            <div class="row">
                <div>
                    <ol class="breadcrumb">
                        <li><a href="/">Home</a></li>
                        {% if category_page.parent %}
                            <li>
                                <a href="{% url 'single_page' category_page.parent.slug %}">{{ category_page.parent.title }}</a>
                            </li>
                        {% endif %}
                        <li>{{ category_page.title }}</li>
                    </ol>
                </div>
                {% if category_page.main_image_quote %}
                    <div style="padding: 30px 0px;text-align: center;">
                        <h2>{{ category_page.main_image_quote }}</h2>
                    </div>
                {% endif %}
                {% if category_page.main_image_quote %}
                    <div style="text-align: center">
                        <h4>{{ category_page.main_image_quote }}</h4>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
-->
<div class="divide40"></div>
<div class="">
    <div class="row">
        <div style="text-align: center;">
            <h1 style="font-size: 30px;    margin: 0;">{{ category_page.title }}</h1>
        </div>
    </div><!--
    <div class="row">
        <div class="col-md-12">
            {% include "public/grammarly_horizontal.html" %}
        </div>
    </div>-->
    <div class="row">

        <div class="col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-lg-9 col-sm-9 col-md-9 template-page ">

            <div>

                {{ category_page.description|safe }}

                <!--
                {% if category_page.cta %}
                    {% if category_page.cta.url %}
                        <div id="desktop" style="position: fixed; left:0px; right: 0px; bottom: 0px; z-index: 9999; text-align:center; background-color: #48526b;padding:4px;">
                            <span id="closeButton" style="position: absolute; top: 14px; right: 5px; color:#dde1e9;cursor:pointer"><i class="fa fa-times-circle fa-2x"></i></span>
                            <div>
                                <a class="btn btn-success btn-lg" style="border-radius:10px;font-size:15px;"
                                   href="{{ category_page.cta.url }}"><i class="fa fa-pencil-square-o"></i><span>{{ category_page.cta.name }}</span></a>
                            </div>
                        </div>
                        <div class="row" id="mobile" style="position: fixed; bottom: 1px;left:0px;right:0px; z-index: 9999;box-shadow: 0 5px 5px 5px #48526b;">
                             <a class="btn btn-success btn-block" style="font-size:18px;background-color: ##0eab54;padding:10px;white-space: normal;"
                               href="{{ category_page.cta.url }}"><i class="fa  fa-pencil-square-o"></i>{{ category_page.cta.name }}</a>
                        </div>
            <style>
            .center {
                margin: auto;
                width: 60%;
            }
            </style>
            <style type="text/css">
            @media screen and (min-width: 768px) {
            div#mobile { display: none }
            }
            @media screen and (max-width: 768px) {
            div#desktop { display: none }
            }
            </style>
            <script>
            document.getElementById('closeButton').addEventListener('click', function(e) {
                e.preventDefault();
                this.parentNode.style.display = 'none';
            }, false);
            </script>
                    {% endif %}
                {% endif %} -->
            </div><!--blog post-->
            <!--about author-->
            <!--comments-->

            <!--pager-->


        </div><!--col-->


        <div class="col-md-2">
            {% include "public/chegg_vertical_add.html" %}
        </div>


    </div>
    <div class="divide40"></div>
    <div class="row">
        <div style="text-align: center;">
            <h1 style="font-size: 30px;"> Try these awesome templates to write your essay </h1>
        </div>
    </div>
</div> <!--row for blog post-->


<div class="row">
    <div class="col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-lg-9 col-sm-9 col-md-9 ">

        <div class="row">
            {% for template in templates %}

            <div class="col-sm-4 col-md-3 col-xs-12 {{ template.slug }} category-template-list-view-box" onclick="parent.window.location='{% url 'template_page' template.slug %}'">
                <div class="category-template-list-view text-center">
                    {{ template.title }}
                </div>
            </div>

            {% endfor %}
        </div>


    </div>


    <div class="col-sm-2"></div>
</div>


<div class="row">
    <div class="col-md-offset-1 col-lg-offset-1 col-sm-offset-1 col-lg-9 col-sm-9 col-md-9 ">
        {% if category_page.get_child_pages.count > 0 %}

        <h4>You might also like</h4>

        <div class="row">

            {% for child in category_page.get_child_pages|slice:"10" %}
            <div class="col-sm-4 col-md-3 col-xs-12">
                <a class="other-like-a-links" href="{% url 'single_page' child.slug %}">{{ child.title }}</a>
            </div>
            {% endfor %}

        </div>


        {% endif %}
        <div class="col-sm-2"></div>
    </div>
</div>
<div class="divide40"></div>
<!--
        {% if templates_count > 0 %}
        <div style="background-color: #187ED8; width: 100%;">
            <div class="divide20"></div>
            <div class="row">
                <div class="col-md-offset-2 col-md-9">
                <div class="center-heading">
                    <h3 style="color: #fff;">Related Templates</h3>
                    <span class="center-line"></span>
                </div>
                <div class="row">
                    <iframe id="iframe-content" src="{% url 'iframe_templates' category_page.id %}" frameborder="0"
                            scrolling="no" onload="resizeIframe(this)"></iframe>
                </div>
                    </div>
            </div>
        </div>
        {% endif %}

    <div id="desc_modal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content- ->
            <div class="modal-content">
                <div class="modal-header">

                    <div class="row">
                        <div class="col-xs-7 col-sm-7 col-md-8">
                            <h4 class="modal-title desc_title">Loading..</h4>
                        </div>
                        <div class="col-xs-4 col-sm-4 col-md-3" style="text-align: right;">
                            <a href="#" class="btn btn-3d btn-block btn-success writing-button">Start Writing</a>
                        </div>
                        <div class="col-xs-1 col-sm-1 col-md-1" style="text-align: right;">
                            <button type="button" class="close" data-dismiss="modal"><i class="fa fa-close"
                                                                                        style="padding-top:5px;"></i>
                            </button>
                        </div>

                    </div>

                </div>
                <div class="modal-body desc_body disable_copy">


                </div>
                <div class="row loader-container">
                    <div class="loader col-xs-offset-5 col-md-offset-5 col-md-2"></div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

                </div>
                <div class="right-arrow-navigation">
                    <a onclick="travel_next(this)" style="color:white;cursor: pointer;" href="#" class="page-button"><i
                            class="fa fa-arrow-circle-o-right fa-5x"></i> </a>
                </div>
                <div class="left-arrow-navigation">
                    <a onclick="travel_back(this)" style="color:white;cursor: pointer;" href="#" class="page-button"><i
                            class="fa fa-arrow-circle-o-left fa-5x"></i> </a>
                </div>
            </div>

        </div>
    </div>
-->
{% endblock %}
{% block js_extra %}
<!--
    <script language="javascript" type="text/javascript">
        function show_template_desc(id, title, slug) {
            $(".page-button").attr("data-slug", "");
            $(".page-button").hide();
            $("#desc_modal").modal();
            $("#desc_modal").find(".loader-container").show();
            $(".desc_body").html("");
            $(".desc_body").hide();
            $(".desc_title").html("Loading..");
            $(".writing-button").hide();
            $.get("https://app.writewellapp.com/getTemplateDetails?id=" + id, function (data) {
                $("#desc_modal").find(".loader-container").hide();
                $(".page-button").show();
                $(".desc_body").show();
                $(".writing-button").show();
                $(".writing-button").attr("href", "http://app.writewellapp.com/" + slug);
                $(".page-button").attr("data-slug", slug)
                $(data.data[0].section).each(function (key, value) {
                    $(".desc_title").html(title);
                    $(".desc_body").append("<h4>" + value.title_placeholder + "<h4>")
                    $(".desc_body").append("<p>" + value.section_placeholder);
                });

            }, "json")


        }
        var iframe_obj;
        function resizeIframe(obj) {
            iframe_obj = obj;
            iframe_height = obj.contentWindow.document.body.scrollHeight;
            obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
            setInterval(function () {
                if (iframe_height != iframe_obj.style.height) {
                    obj.style.height = iframe_obj.contentWindow.document.body.scrollHeight + 'px';
                    iframe_height = iframe_obj.contentWindow.document.body.scrollHeight;
                }

            }, 500);
        }
        $(document).ready(function () {
            $('.desc_body').css({"max-height": $(window).innerHeight() * 80 / 100});
            $(window).resize(function () {

                $('.desc_body').css({"max-height": $(window).innerHeight() * 80 / 100});
            });
        });

    </script>
    <script>
        function travel_next(obj) {
            slug = $(obj).attr("data-slug");
            if (slug) {
                next_div = $("#iframe-content").contents().find("." + slug).next();
                if (!$(next_div).length) {
                    next_div = $("#iframe-content").contents().find(".cbp-item").first();

                }

                next_title = $(next_div).find(".preview-button").attr("data-title");
                next_id = $(next_div).find(".preview-button").attr("data-id");
                next_slug = $(next_div).find(".preview-button").attr("data-slug");
                show_template_desc(next_id, next_title, next_slug);

            }
        }
        function travel_back(obj) {
            slug = $(obj).attr("data-slug");
            if (slug) {
                next_div = $("#iframe-content").contents().find("." + slug).prev();
                if (!$(next_div).length) {
                    next_div = $("#iframe-content").contents().find(".cbp-item").last();

                }

                next_title = $(next_div).find(".preview-button").attr("data-title");
                next_id = $(next_div).find(".preview-button").attr("data-id");
                next_slug = $(next_div).find(".preview-button").attr("data-slug");
                show_template_desc(next_id, next_title, next_slug);

            }
        }
    </script>

    -->

 <script type="text/javascript">
    $(document).ready(function () {


        $('#grid-container').cubeportfolio({
        filters: '#filters-container',
        loadMore: '#loadMore-container',
        loadMoreAction: 'click',
        layoutMode: 'grid',
        defaultFilter: '.high-school-essay-templates-and-formats',
        gapHorizontal: 15,
        gapVertical: 15,
        gridAdjustment: 'responsive',
        animationType: 'moveLeft',
        mediaQueries: [{
            width: 1100,
            cols: 4
        }, {
            width: 800,
            cols: 4
        }, {
            width: 500,
            cols: 2
        }, {
            width: 320,
            cols: 1
        }],
        caption: 'overlayBottomReveal',
        displayType: 'sequentially',
        displayTypeSpeed: 80,


    });
    });
</script>
{% endblock %}